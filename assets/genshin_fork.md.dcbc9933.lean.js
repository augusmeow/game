import{d as I,f as D,c as E,a as L,b as R,e as g,g as S}from"./chunks/utils.454c0124.js";import{W as j}from"./chunks/wish.2ed607ad.js";import{C as _}from"./chunks/characters.e1493503.js";import{c as N}from"./chunks/utils.6e888d78.js";import"./chunks/zh.e51bc494.js";import{_ as x,o as i,c as l,k as t,a as v,a2 as F,a3 as H,F as p,D as y,t as d,e as O,p as T,m as w,d as V,H as W}from"./chunks/framework.21d51add.js";I.locale("zh");const Z={1:"首次出场",2:"首次复刻",3:"二次复刻",4:"三次复刻",5:"四次复刻",6:"五次复刻",7:"六次复刻"},C=Object.values(_).filter(e=>e.star===5).map(e=>e.id);Object.values(_).filter(e=>e.star===4).map(e=>e.id);const A=C.map(e=>_[e].name);let c={};const B=e=>{for(let s of e){c[s]=[];for(let r of j.characters){let h=r.wish5star.indexOf(s);if(h!==-1){let a={};a.name=r.name[h],a.image=r.image[h],a.shortName=r.wish5star[h],a.start=r.start,a.end=r.end,a.version=r.version,c[s].push(a)}}}};B(C);c=D(c,e=>e.length);Object.values(c).forEach(function(e){Array.isArray(e)&&e.sort((s,r)=>r.image-s.image)});let m=[];Object.values(c).forEach(function(e){m.push(e[0])});m=m.sort((e,s)=>E(e.end,s.end));for(let e of m)L(e.start,e.end)?e.duration=0:R(e.end)?e.duration=g(e.end):S(e.start)&&(e.duration=g(e.start));const P=e=>{let s="";return e>0?s=` ${parseInt(e)}天后登场`:e<0?s=` 距今${-parseInt(e)}天`:s=" 当前祈愿进行时",s};let k=[];for(let e of m){let s={};s.shortName=e.shortName,s.nameZH=_[e.shortName].name,s.src=N(e.shortName),s.version=e.version,s.duration=P(e.duration),s.tag=e.duration,k.push(s)}const U={name:"Fork",data(){return{FORK_DESCRIBE:Z,sliceCharZH:A,displayRes:k,selectedLastChar:"",selectedFork:""}},methods:{sortLast(){this.displayRes=this.displayRes.sort((e,s)=>e.tag-s.tag)},sortEarly(){this.displayRes=this.displayRes.sort((e,s)=>s.tag-e.tag)},getSelectDuration(e){let s=this.displayRes.find(r=>r.nameZH===e);return s?s.duration:"未找到"},replaceImg(e){e.target.src="/image/genshin/characters/paimon_faq.png"}},async mounted(){this.selectedFork="",this.selectedLastChar="",this.sortEarly()}},u=e=>(T("data-v-9ed12ad2"),e=e(),w(),e),q=u(()=>t("br",null,null,-1)),z=u(()=>t("br",null,null,-1)),G=u(()=>t("option",{disabled:"",value:""},"选择角色",-1)),J={key:0,class:"choose"},K={class:"underline"},M=u(()=>t("br",null,null,-1)),Q=u(()=>t("hr",null,null,-1)),X={class:"char-container"},Y={class:"char-avatar"},$=["src"],ee={class:"char-info"},se={class:"char-name"},te={class:"char-version"},ae={class:"char-duration"};function re(e,s,r,h,a,n){return i(),l(p,null,[t("a",{onClick:s[0]||(s[0]=(...o)=>n.sortLast&&n.sortLast(...o))},"最近排序"),v(" | "),t("a",{onClick:s[1]||(s[1]=(...o)=>n.sortEarly&&n.sortEarly(...o))},"最远排序"),q,z,F(t("select",{"onUpdate:modelValue":s[2]||(s[2]=o=>a.selectedLastChar=o)},[G,(i(!0),l(p,null,y(a.sliceCharZH,(o,f)=>(i(),l("option",null,d(o),1))),256))],512),[[H,a.selectedLastChar]]),a.selectedLastChar?(i(),l("p",J,[t("strong",null,d(a.selectedLastChar+" "),1),t("span",K,[t("span",null,d(n.getSelectDuration(a.selectedLastChar)),1)]),M])):O("",!0),Q,t("div",null,[(i(!0),l(p,null,y(a.displayRes,(o,f)=>(i(),l("div",{key:f},[t("div",X,[t("div",Y,[t("img",{src:o.src,onError:s[3]||(s[3]=(...b)=>n.replaceImg&&n.replaceImg(...b))},null,40,$)]),t("div",ee,[t("div",se,d(o.nameZH),1),t("div",te,d("ver"+o.version),1),t("div",ae,d(o.duration),1)])])]))),128))])],64)}const oe=x(U,[["render",re],["__scopeId","data-v-9ed12ad2"]]),ne=t("h1",{id:"复刻祈愿",tabindex:"-1"},[v("复刻祈愿 "),t("a",{class:"header-anchor",href:"#复刻祈愿","aria-label":'Permalink to "复刻祈愿"'},"​")],-1),_e=JSON.parse('{"title":"复刻祈愿","description":"","frontmatter":{"aside":false},"headers":[],"relativePath":"genshin/fork.md","filePath":"genshin/fork.md","lastUpdated":1683602535000}'),ie={name:"genshin/fork.md"},pe=V({...ie,setup(e){return(s,r)=>(i(),l("div",null,[ne,W(oe)]))}});export{_e as __pageData,pe as default};
